Copyright Â© 2016-2017 Wind River Systems, Inc.

SPDX-License-Identifier: Apache-2.0
-----------------------------------------------------------------------


EXAMPLE Titanium Cloud Log Server configuration utility
--------------------------------------------------------

This utility provides an example of how to install and configure
Elasticsearch, Kibana and Logstash on a remote Linux central logging
server, for the purposes of receiving syslogs from a Titanium
Cloud System.  This utility will install the open-source ELK packages
with the appropriate network configuration on the Linux server.

Refer to the Titanium Cloud System Administration guide for how to
configure the Titanium Cloud System to send its syslogs to this remote
Linux server.

NOTE:  This is ONLY an EXAMPLE of an ELK installation on a remote Linux
central logging server.  Wind River does NOT support the ELK installation
itself, only the sending of syslogs to the ELK server from Titanium Cloud.

NOTE:  This example installer has only been tested with IPv4.


Supported Operating Systems
---------------------------

Ubuntu 14.04 LTS
Ubuntu 12.04 LTS
Ubuntu 16.04 LTS
CentOS 6
CentOS 7

Installing the utility
----------------------

To install the utility on a Linux machine follow these steps:

1.  Untar the provided tarball:
        tar xfv wrs-install-log-server-*.tgz
    or using your favorite manager.

2.  cd wrs-install-log-server-*

3.  Execute the provided installer script:
        sudo ./install-log-server.sh -i <IP Address> [ -u | -t ]  [... Other Options ...]

    Usage:
    -c   Path to a ca certificate file that Logstash will use.
    -h   Show help options.
    -i   The IP address all Elasticsearch, Logstash, Kibana modules will use to bind and publish to.
    -k   Path to a server key file that Logstash will use.
    -p   The port Logstash will bind and listen to. The default port is 514. Privileged ports are redirected to port 10514.
    -t   Set this system up to receive logs through TCP. (at least one of TCP/TLS or UDP options must be selected)
    -u   Set this system up to receive logs through UDP. (at least one of TCP/TLS or UDP options must be selected)

This utility will install a remote log server and configures communications with Titanium Cloud.
Refer to the Titanium Cloud System Administration guide and README file for more details.

NOTE: Both TCP and UDP can be configured at the same time. Specifying -c and -k will have encryption on top of TCP.

Using the Kibana web interface
------------------------------

To begin using the log server, you must enable remote logging on the Titanium
Cloud system. Kibana provides a web-based interface for using an installed
and configured remote log server. Refer to the Titanium Cloud System
Administration guide and README file for additional to start exploring
with Kibana.

1.  Open Kibana in your browser http://YOURDOMAIN.com:5601 or
    http://<IP Address>:5601

2. To use Kibana dashboard visualizations, open Kibana in a browser, click the Dashboard tab, click the
   + button, click "manage visualizations" on the right above the Visualization Filter text box, click
   "Import" and upload the tisElkDashboards.json file found in the directory containing this doc.
   After it has loaded, you can view either Dashboards or Visualizations by going to the Settings tab
   and clicking the Dashboard or Visualizations tab on that page. To view dashboards, select them and
   click the eye icon on the right. Selecting multiple dashboards is not supported because some dashboards
   are set to take up the entire page, meaning other dashboards might not be displayed, or that some of the
   visualizations may be cut off. Thus, it is recommended that only one dashboard is viewed at a time, or
   that you add and check dashboards one-by-one to verify that the selected dashboards can be displayed
   together. To view an individual visualization, click the eye icon beside the visualization's name; to view
   multiple visualizations, click the Dashboard tab at the top of the page, click the + button, and the
   visualizations should appear in a droplist. Select as many as you'd like to view.

Visualizations are graphical visualizations of the log data grouped by things such as fieldname.
Dashboards are a collection of visualizations.

Note: The provided dashboards and visualizations are just samples of dashboards that can be constructed
      based on logs collected from Titanium Cloud.
